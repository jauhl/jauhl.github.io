<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <style>
    /* for line numbers */
    [class*="language-"] {
    	counter-reset: linenumber;
    }
    span.line{
    	display: inline-block;
     	width: 100%;
     	counter-increment: linenumber;
    }
   /*     span.line:nth-child(odd){
        	background: #f0f0f0;
        } */
    span.line:before{
    	content: counter(linenumber);
     	font-size: 100%;
     	width: 2em;
     	display: inline-block;
     	font-weight: normal;
     	color: grey;
     	border-right: 1px solid orange;
     	margin-right: 5px;
     	padding-right: 5px;
     	text-align: right;
    }
    body {
      padding: 0;
      margin: 0;
    }  
    svg:not(:root) {
      display: block;
    }
    .language-js {
     /* background-color: #F4F7F8;
      border: none;
      border-left: 6px solid #ff6900;
      border-width: medium medium medium 6px;
      color: #4D4E53; */
      height: 155px;
      width: 90%;
      padding: 10px 10px 0px;
    }
    .playable-canvas {
      border: 1px solid #4D4E53;
      border-radius: 2px;
    }
    .playable-buttons {
      text-align: right;
      width: 90%;
      padding: 5px 10px 5px 26px;
    }
  </style>
</head>

<body>
  <canvas id="canvas" width="200" height="120" class="playable-canvas"></canvas>
  <div class="playable-buttons">
    <input id="reset" type="button" value="Reset" />
  </div>
  <pre contenteditable class="language-js" data-linenumber="0" id="code">g.cartesian()
 .link([20,60,40,95,60,70]) 
 .link([20,20,40,55,60,30],true) 
 .link2([120,60,140,95,160,70]) 
 .link2([120,20,140,55,160,30],true)
 .exe(ctx)</pre>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/prism/1.5.1/themes/prism-okaidia.css">
  <script src="https://gitcdn.xyz/repo/goessner/g2/master/g2.min.js"></script>
  <script src="https://gitcdn.xyz/repo/goessner/g2-mec/master/g2.mec.min.js"></script>

  <script src="https://cdn.jsdelivr.net/prism/1.3.0/prism.js"></script>
  <script src="https://cdn.jsdelivr.net/prism/1.5.1/components/prism-javascript.min.js"></script>
  <script src="https://gitcdn.xyz/repo/jauhl/jauhl.github.io/master/playgrounds/prism-pre.js"></script>
  <script type="text/javascript">

var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
var textarea = document.getElementById("code");
var reset = document.getElementById("reset");
var code = textarea.textContent;
var g = g2();

function drawCanvas() {
  g.del().clr();
  eval(textarea.textContent);
}

reset.addEventListener("click", function() {
  //textarea.textContent = code;  // keypress muss zum erneuten highlighten erfolgen
  //drawCanvas();
  document.location.reload(false); // false = reload from cache
});

textarea.addEventListener("input", drawCanvas);
window.addEventListener("load", drawCanvas);

</script>
</body>

</html>